<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏â‡∏•‡∏≠‡∏á‡∏Ñ‡∏£‡∏ö 16 ‡∏õ‡∏µ ‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡∏ò‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏¢‡πÑ‡∏ã‡∏ï‡∏∞‡∏°‡∏∞</title>
    <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-color: #f7f7f7;
        margin: 0;
      }
      .btn-full {
        width: 80%;
        padding: 15px;
        font-size: 18px;
      }
    </style>
  </head>
  <body>
    <h1>‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ö‡∏∏‡∏ç‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</h1>
    <button id="shareButton" class="btn btn-success btn-full">
      ‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏°
    </button>

    <script>
      async function main() {
        try {
          await liff.init({ liffId: "1661018679-Y47yR00l" });

          if (!liff.isLoggedIn()) {
            liff.login();
            return; // ‡πÉ‡∏´‡πâ reload ‡∏´‡∏•‡∏±‡∏á login
          }

          await liff.ready; // ‡∏£‡∏≠‡πÉ‡∏´‡πâ liff ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

          const shareButton = document.getElementById("shareButton");
          shareButton.addEventListener("click", async () => {
            if (!liff.isApiAvailable("shareTargetPicker")) {
              alert("‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏ú‡πà‡∏≤‡∏ô Share Target Picker ‡∏Ñ‡∏£‡∏±‡∏ö");
              return;
            }

            const flexMessage = {
              type: "flex",
              altText:
                "‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡πà‡∏≤‡∏ß‡∏ö‡∏∏‡∏ç ‡∏û‡∏¥‡∏ò‡∏µ‡∏ó‡∏≠‡∏î‡∏ú‡πâ‡∏≤‡∏õ‡πà‡∏≤‡∏â‡∏•‡∏≠‡∏á‡∏Ñ‡∏£‡∏ö 16 ‡∏õ‡∏µ ‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡∏ò‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏¢‡πÑ‡∏ã‡∏ï‡∏∞‡∏°‡∏∞",
              contents: {
                type: "bubble",
                hero: {
                  type: "image",
                  url: "https://voom-obs.line-scdn.net/r/myhome/hex/cj02cG5vbWlnMzM4MTA1JnM9anA3JnQ9ZCZ1PTFlcGY5YzBkMDNpMDAmaT0w/m612x918",
                  size: "full",
                  aspectRatio: "1:1.40",
                  aspectMode: "cover",
                  backgroundColor: "#FFFFFFFF",
                  action: {
                    type: "uri",
                    label: "‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
                    uri: "https://linevoom.line.me/post/1172735114495047902",
                  },
                },
                body: {
                  type: "box",
                  layout: "vertical",
                  backgroundColor: "#FFFDEEFF",
                  contents: [
                    {
                      type: "text",
                      text: "‡∏û‡∏¥‡∏ò‡∏µ‡∏ó‡∏≠‡∏î‡∏ú‡πâ‡∏≤‡∏õ‡πà‡∏≤‡∏â‡∏•‡∏≠‡∏á‡∏Ñ‡∏£‡∏ö 16 ‡∏õ‡∏µ ",
                      weight: "bold",
                      size: "lg",
                      color: "#C92041FF",
                      align: "center",
                    },
                    {
                      type: "text",
                      text: "‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡∏ò‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏¢‡πÑ‡∏ã‡∏ï‡∏∞‡∏°‡∏∞",
                      size: "lg",
                      color: "#C92041FF",
                      align: "center",
                    },
                    {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      margin: "lg",
                      contents: [
                        {
                          type: "box",
                          layout: "baseline",
                          spacing: "sm",
                          contents: [
                            {
                              type: "text",
                              text: "üìç",
                              size: "sm",
                              color: "#D4D4D4FF",
                              flex: 1,
                            },
                            {
                              type: "text",
                              text: "269-2 Nishimotojuku, Higashimatsuyama, Saitama 355-0062",
                              size: "sm",
                              color: "#2C54D3FF",
                              flex: 10,
                              wrap: true,
                            },
                          ],
                        },
                        {
                          type: "box",
                          layout: "baseline",
                          spacing: "sm",
                          contents: [
                            {
                              type: "text",
                              text: "üï•",
                              size: "sm",
                              color: "#AAAAAA",
                              flex: 1,
                            },
                            {
                              type: "text",
                              text: "10:00 - 15:00",
                              size: "sm",
                              color: "#0E128CFF",
                              flex: 10,
                              wrap: true,
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
                footer: {
                  type: "box",
                  layout: "vertical",
                  spacing: "sm",
                  contents: [
                    {
                      type: "button",
                      action: {
                        type: "uri",
                        label: "‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°",
                        uri: "https://linevoom.line.me/post/1172735114495047902",
                      },
                      style: "primary",
                    },
                    {
                      type: "button",
                      action: {
                        type: "uri",
                        label: "‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡πà‡∏≤‡∏ß‡∏ö‡∏∏‡∏ç",
                        uri: "https://liff.line.me/1661018679-3gpyeQQk",
                      },
                      color: "#FF8B3DFF",
                      style: "primary",
                    },
                    { type: "spacer", size: "sm" },
                  ],
                },
              },
            };

            try {
              const result = await liff.shareTargetPicker([flexMessage]);
              if (result) {
                console.log("‚úÖ ‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
              } else {
                console.log("‚ùå ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå");
              }
            } catch (error) {
              console.error("‚ùå ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", error);
            }
          });
        } catch (err) {
          console.error("LIFF init error:", err);
        }
      }

      document.addEventListener("DOMContentLoaded", main);
    </script>
  </body>
</html>
